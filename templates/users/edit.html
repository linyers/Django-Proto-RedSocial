{% extends 'users/base.html' %}
{% load static %}
{% load tailwind_tags %}
{% load tailwind_filters %}

{% block title %}{{user.usermae}} Edit Profile{% endblock title %}

{% block navbar %}
{% include 'components/navbar.html' %}
{% endblock navbar %}

{% block left_sidebar %}
{% endblock left_sidebar %}

{% block content %}
<main class="min-h-screen w-full py-5 overflow-x-hidden">
    <form class="form-horizontal dark:text-dark-txt" method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="relative bg-gray-800 max-w-full">
            <div class="absolute inset-0">
                <label for="id_banner" class="w-full h-full ring-4 dark:ring-dark-second ring-gray-300 hover:ring-blue-500 cursor-pointer focus:border-white absolute z-10">
                    <img class="w-full h-full object-cover" src="{{user.profile.banner.url}}" alt="{{profile.username}}">
                </label>
                <input type="file" name="banner" accept="image/*" id="id_banner" hidden>
                <div class="absolute inset-0 mix-blend-multiply" aria-hidden="true"></div>
            </div>
            <div class="relative max-w-7xl mx-auto py-24 px-4 sm:py-32 sm:px-6 lg:px-8">
                
            </div>
        </div>

        <div class="md:grid md:gap-6 relative flex space-x-22 pt-4">
            <div class="mt-5 md:mt-0">
                <div>

                    <div class="max-w-5x1 mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="-mt-12 sm:-mt-16 sm:flex sm:items-end sm:space-x-5">
                            <!--profile picture-->
                            <div class="flex">
                                <label for="id_picture" class="z-10">
                                    <img class="h-24 w-24 rounded-full ring-4 dark:ring-dark-second ring-gray-300 sm:h-32 sm:w-32 dark:bg-dark-second bg-white hover:ring-blue-500 cursor-pointer"
                                    src="{{user.profile.picture.url}}" alt="{{user.username}} Profile Picture">
                                </label>
                                <input type="file" name="picture" accept="image/*" id="id_picture" hidden>
                            </div>
                        </div>

                            <div class="sm:block mt-6 min-w-0 flex-1">
                                {% if errors %}
                                <div class="border border-red-400 rounded-b bg-red-100 px-4 py-3 text-red-700 max-w-lg">
                                    <ul>
                                        {% for error in errors %}
                                        <li class="py-1">
                                            <span>{{error}}</span>
                                        </li>
                                        {% endfor %}
                                    </ul>
                                </div>
                                {% endif %}
                                <div class="mt-4">
                                    <label for="id_first_name" class="block text-sm font-medium dark:text-dark-txt text-gray-700">First name</label></th>
                                    <input type="text" value="{{user.first_name}}" name="first_name" class="max-w-lg shadow-sm focus:ring-blue-500 dark:bg-dark-third dark:text-dark-txt block w-full sm:text-sm border-gray-300 
                                    rounded-md" id="id_first_name">
                                </div>
                            </div>
                            <div class="sm:block mt-2 min-w-0 flex-1">
                                <label for="id_last_name" class="block text-sm font-medium dark:text-dark-txt text-gray-700">Last name</label></th>
                                <input type="text" value="{{user.last_name}}" name="last_name" class="max-w-lg shadow-sm focus:ring-blue-500 dark:bg-dark-third dark:text-dark-txt block w-full sm:text-sm border-gray-300 
                                rounded-md" id="id_last_name">
                            </div>
                            <div class="sm:block mt-2 min-w-0 flex-1">
                                <label for="bio" class="block text-sm font-medium dark:text-dark-txt text-gray-700">
                                    Bio
                                </label>
                                {{form.bio}}
                            </div>
                            <div class="sm:block mt-2 min-w-0 flex-1">
                                <label for="city" class="block text-sm font-medium dark:text-dark-txt text-gray-700">
                                    Location: City, Country
                                </label>
                                {{form.location}}
                            </div>
                            <div class="sm:block mt-2 min-w-0 flex-1">
                                <label for="id_birthday" class="block text-sm font-medium dark:text-dark-txt text-gray-700">
                                    Date of Birth: yyyy-mm-dd
                                </label>
                                {{form.birthday}}
                            </div>
                            <div class="sm:block mt-2 min-w-0 flex-1">
                                <label for="url" class="block text-sm font-medium dark:text-dark-txt text-gray-700">
                                    Website URL
                                </label>
                                {{form.url}}
                            </div>
                            <div class="control-group">
                                <div class="controls">
                                    <a href="{% url 'users:profile' username=user.username %}" class="mt-4 inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded dark:text-dark-txt text-gray-700 dark:bg-dark-second bg-gray-300 dark:hover:bg-dark-third hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-dark-third focus:ring-blue-500">
                                    Return to Profile </a>
                                    <button type="submit" class="mt-4 inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded dark:text-dark-txt text-gray-700 dark:bg-dark-second bg-gray-300 dark:hover:bg-dark-third hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-dark-third focus:ring-blue-500">
                                    Update</button>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
<main>
{% endblock content %}